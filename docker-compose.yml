version: '3.8'

services:
  newapi-checkin:
    # 使用预构建镜像（推荐）
    image: ghcr.io/assast/newapi-ai-check-in:latest
    # 或本地构建
    # build: .
    container_name: newapi-checkin
    restart: unless-stopped
    env_file:
      - .env
    volumes:
      - ./data:/app/data
      - ./balance_hash.txt:/app/balance_hash.txt
      - ./logs:/var/log
      - camoufox-cache:/root/.local/share/camoufox
      # 如果使用 accounts.json 文件，取消下面的注释
      # - ./accounts.json:/app/accounts.json:ro
    environment:
      - TZ=Asia/Shanghai
      # 自定义 cron 表达式（可选，默认每 8 小时执行一次）
      # - CRON_SCHEDULE=0 */8 * * *

volumes:
  camoufox-cache:
